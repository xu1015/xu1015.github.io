webpackJsonp([0],{P1Pu:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={name:"home",data:function(){return{imgNum:0,filesLength:0,imgLength:0,beginIndex:0,isControl:!1}},watch:{imgNum:function(e,i){var t=0==e&&i==this.filesLength;console.log("查看是否符合条件",t),this.filesLength>e&&!t?this.getFileData():(this.imgNum=0,this.isControl=!1)}},methods:{getFileData:function(){this.isControl=!0,console.log("查看信息",this.$refs.file.files);var e=this.$refs.file.files;this.filesLength=e.length;var i=this.filesLength+this.beginIndex;if((i+="",this.imgLength=i.length,console.log("查看选择图片的长度",this.imgLength),this.filesLength+this.beginIndex>this.imgNum+this.beginIndex)&&"image"===e[this.imgNum].type.split("/")[0]){var t=new FileReader;t.readAsDataURL(e[this.imgNum]),console.log("第"+this.imgNum+"次",t);var n=this;t.onloadend=function(){var e=t.result;n.downloadImg(e,n.imgNum+n.beginIndex+1,n.imgLength)}}},convertBase64UrlToBlob:function(e){for(var i=e.split(";base64,"),t=i[0].split(":")[1],n=window.atob(i[1]),o=n.length,s=new Uint8Array(o),l=0;l<o;l++)s[l]=n.charCodeAt(l);return new Blob([s],{type:t})},myBrowser:function(){var e=navigator.userAgent;return e.indexOf("OPR")>-1?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Trident")>-1?"IE":e.indexOf("Edge")>-1?"Edge":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":void 0},downloadImg:function(e,i,t){console.log("查看下载地址",e),console.log("查看传递名称",i),console.log("查看传递长度",t);var n=i,o=t-(i+="").length;if(o>0)for(var s=0;s<o;s++)n="0"+n;console.log("查看处理后的名称",n);var l=this.convertBase64UrlToBlob(e);if("IE"==this.myBrowser())console.log("IE"),window.navigator.msSaveBlob(l,n+".jpg");else if("FF"==this.myBrowser())console.log("FF"),window.location.href=e;else{console.log("a标签");var a=document.createElement("a");a.download=n+".jpg",a.href=URL.createObjectURL(l),a.click()}this.imgNum+=1}}},o={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"homeDiv"},[t("div",{staticClass:"uploadDiv"},[t("div",{staticClass:"topInput"},[e._v("初始下标: "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.beginIndex,expression:"beginIndex",modifiers:{number:!0}}],attrs:{type:"text",disabled:e.isControl,oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"需要小一位"},domProps:{value:e.beginIndex},on:{input:function(i){i.target.composing||(e.beginIndex=e._n(i.target.value))},blur:function(i){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"upload"},[t("p",[e._v("点击选择需要上传的文件")]),e._v(" "),t("input",{ref:"file",staticClass:"file",attrs:{type:"file",multiple:"multiple"},on:{change:e.getFileData}})])])])},staticRenderFns:[]};var s=t("VU/8")(n,o,!1,function(e){t("wYeE")},"data-v-cc621c24",null);i.default=s.exports},wYeE:function(e,i){}});
//# sourceMappingURL=0.4eea8be818317f712604.js.map