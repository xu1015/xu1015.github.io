webpackJsonp([1],{F4Zn:function(e,t){},PPwQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"home",data:function(){return{imgNum:0,filesLength:0,imgLength:0,beginIndex:0,isControl:!1}},watch:{imgNum:function(e,t){var i=0==e&&t==this.filesLength;console.log("查看是否符合条件",i),this.filesLength>e&&!i?this.getFileData():(this.imgNum=0,this.isControl=!1)}},methods:{getFileData:function(){this.isControl=!0,console.log("查看信息",this.$refs.file.files);var e=this.$refs.file.files;this.filesLength=e.length;var t=this.filesLength+this.beginIndex;if((t+="",this.imgLength=t.length,console.log("查看选择图片的长度",this.imgLength),this.filesLength+this.beginIndex>this.imgNum+this.beginIndex)&&"image"===e[this.imgNum].type.split("/")[0]){var i=new FileReader;i.readAsDataURL(e[this.imgNum]),console.log("第"+this.imgNum+"次",i);var n=this;i.onloadend=function(){var e=i.result,t=new Image;t.src=e,t.onload=function(){var e=t.width,i=t.height,o=document.createElement("canvas");o.width=i,o.height=e;var a=o.getContext("2d");a.rotate(-90*Math.PI/180),a.translate(-e,0),a.drawImage(t,0,0);var s=o.toDataURL("image/jpeg");n.downloadImg(s,n.imgNum+n.beginIndex+1,n.imgLength)}}}},convertBase64UrlToBlob:function(e){for(var t=e.split(";base64,"),i=t[0].split(":")[1],n=window.atob(t[1]),o=n.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=n.charCodeAt(s);return new Blob([a],{type:i})},myBrowser:function(){var e=navigator.userAgent;return e.indexOf("OPR")>-1?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Trident")>-1?"IE":e.indexOf("Edge")>-1?"Edge":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":void 0},downloadImg:function(e,t,i){console.log("查看下载地址",e),console.log("查看传递名称",t),console.log("查看传递长度",i);var n=t,o=i-(t+="").length;if(o>0)for(var a=0;a<o;a++)n="0"+n;console.log("查看处理后的名称",n);var s=this.convertBase64UrlToBlob(e);if("IE"==this.myBrowser())console.log("IE"),window.navigator.msSaveBlob(s,n+".jpg");else if("FF"==this.myBrowser())console.log("FF"),window.location.href=e;else{console.log("a标签");var l=document.createElement("a");l.download=n,l.href=URL.createObjectURL(s),l.click()}this.imgNum+=1}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"homeDiv",attrs:{id:"homeDiv"}},[i("div",{staticClass:"uploadDiv"},[i("div",{staticClass:"topInput"},[e._v("初始下标: "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.beginIndex,expression:"beginIndex",modifiers:{number:!0}}],attrs:{type:"text",disabled:e.isControl,oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"需要小一位"},domProps:{value:e.beginIndex},on:{input:function(t){t.target.composing||(e.beginIndex=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"upload"},[i("p",[e._v("修改的文件")]),e._v(" "),i("input",{ref:"file",staticClass:"file",attrs:{type:"file",multiple:"multiple"},on:{change:e.getFileData}})])])])},staticRenderFns:[]};var a=i("VU/8")(n,o,!1,function(e){i("F4Zn")},"data-v-681f7acb",null);t.default=a.exports}});